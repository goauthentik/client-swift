//
// OutpostRequest.swift
//
// Generated by openapi-generator
// https://openapi-generator.tech
//

import Foundation

/// Outpost Serializer 
public struct OutpostRequest: Codable {
    public var name: String
    public var type: OutpostTypeEnum
    public var providers: [Int]
    /// Select Service-Connection authentik should use to manage this outpost. Leave empty if authentik should not handle the deployment.
    public var serviceConnection: UUID?
    public var config: [String: Any]
    /// Objects that are managed by authentik. These objects are created and updated automatically. This flag only indicates that an object can be overwritten by migrations. You can still modify the objects via the API, but expect changes to be overwritten in a later update.
    public var managed: String?

    public init(name: String, type: OutpostTypeEnum, providers: [Int], serviceConnection: UUID? = nil, config: [String: Any], managed: String? = nil) {
        self.name = name
        self.type = type
        self.providers = providers
        self.serviceConnection = serviceConnection
        self.config = config
        self.managed = managed
    }

    public enum CodingKeys: String, CodingKey, CaseIterable {
        case name
        case type
        case providers
        case serviceConnection = "service_connection"
        case config
        case managed
    }

    public init(from decoder: Decoder) throws {
        let container = try decoder.container(keyedBy: CodingKeys.self)
        name = try container.decode(String.self, forKey: .name)
        type = try container.decode(OutpostTypeEnum.self, forKey: .type)
        providers = try container.decode([Int].self, forKey: .providers)
        serviceConnection = try container.decodeIfPresent(UUID.self, forKey: .serviceConnection)
        config = try container.decode([String: Any].self, forKey: .config)
        managed = try container.decodeIfPresent(String.self, forKey: .managed)
    }

    public func encode(to encoder: Encoder) throws {
        var container = encoder.container(keyedBy: CodingKeys.self)
        try container.encode(name, forKey: .name)
        try container.encode(type, forKey: .type)
        try container.encode(providers, forKey: .providers)
        try container.encodeIfPresent(serviceConnection, forKey: .serviceConnection)
        try container.encode(try JSONSerialization.data(withJSONObject: config), forKey: .config)
        try container.encodeIfPresent(managed, forKey: .managed)
    }
}
